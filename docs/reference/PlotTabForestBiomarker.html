<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate forest plot and summarization table for 2-arm or within-arm comparison — PlotTabForestBiomarker • gClinBiomarker</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">gClinBiomarker</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/example-use-cases.html">gClinBiomarker: Example Use Cases</a>
    </li>
    <li>
      <a href="../articles/package-overview.html">gClinBiomarker Package Overivew</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate forest plot and summarization table for 2-arm or within-arm comparison</h1>
    </div>

    
    <p>This function creates a forest plot along with table with summary statistics to infer biomarker effects, within a single arm
or across two treatment arms.  The outcome could be survival, binary or continuous. This function can be used to summarize a single
biomarker variable</p>
    

    <pre class="usage"><span class='fu'>PlotTabForestBiomarker</span>(<span class='no'>data</span>, <span class='kw'>outcome.class</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"survival"</span>, <span class='st'>"binary"</span>),
  <span class='no'>outcome.var</span>, <span class='kw'>trt</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>var</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>var.class</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>var.name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>percentile.cutoff</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>numerical.cutoff</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>greater</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>less</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>greater.by.less</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>across.and.within</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>equal.in.high</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>within.bin</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>show.itt</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>show.bep</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>bep</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>bep.name</span> <span class='kw'>=</span> <span class='st'>"BEP"</span>,
  <span class='kw'>itt.name</span> <span class='kw'>=</span> <span class='st'>"All"</span>, <span class='kw'>bep.indicator</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>covariate</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>strata</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>tabforest</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>quantile.type</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>digits</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>cutoff.digits</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>placebo.code</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>active.code</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>rsp.cat</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>rsp.response</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"CR"</span>, <span class='st'>"PR"</span>), <span class='kw'>rsp.nonresponse</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"SD"</span>, <span class='st'>"PD"</span>, <span class='st'>"NON CR/PD"</span>,
  <span class='st'>"NE"</span>, <span class='fl'>NA</span>), <span class='kw'>var.code</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>surv.conf.type</span> <span class='kw'>=</span> <span class='st'>"plain"</span>, <span class='kw'>ties</span> <span class='kw'>=</span> <span class='st'>"efron"</span>,
  <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>main.prefix</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>sub</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>clip</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>xticks</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>xticks.digits</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>cex.headings</span> <span class='kw'>=</span> <span class='fl'>1.1</span>, <span class='kw'>cex.note</span> <span class='kw'>=</span> <span class='fl'>0.8</span>, <span class='kw'>cols</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>only.stat</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>pdf.name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>pdf.param</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>12</span>, <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>4.5</span>),
  <span class='kw'>par.param</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>cex</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>cex.main</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>cex.sub</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>cex.axis</span> <span class='kw'>=</span> <span class='fl'>1</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>input data frame. Rows are patients and columns are variables (e.g. demographics variables, time to event variables,
biomarker variables, treatment indicator, etc.). One patient per row.</p></td>
    </tr>
    <tr>
      <th>outcome.class</th>
      <td><p>type of the outcome variable. Default is <code>c("survival", "binary", "continuous")</code>. Continuous is not available now</p></td>
    </tr>
    <tr>
      <th>outcome.var</th>
      <td><p>name of the outcome varible. If the outcome.class is binary or coutinuous, only one value should be provided.
If the outcome.class is survival, two values should be provided - name of the 'time to event' variable and 'censorship' variable
 For the censoring variable, 1 indicates event and 0 indicates censoring. In all cases but when outcome.class=binary and rsp.cat=TRUE,
 patients with missing outcome variable (NA) will be excluded from BEP.</p></td>
    </tr>
    <tr>
      <th>trt</th>
      <td><p>name of the treatment variable. If this is NULL, within-arm analysis will be performed</p></td>
    </tr>
    <tr>
      <th>var</th>
      <td><p>name of the biomarker variable. only one variable should be specified.</p></td>
    </tr>
    <tr>
      <th>var.class</th>
      <td><p>class of the variable. valid categories are "numeric", "categorical". If the class is continuous,
user needs to specify percentile.cutoff or numerical.cutoff to dichotomize the continuous measure into subgroups</p></td>
    </tr>
    <tr>
      <th>var.name</th>
      <td><p>display name for the biomarker variable</p></td>
    </tr>
    <tr>
      <th>percentile.cutoff</th>
      <td><p>percentile to dichotomize continuous biomarker measure. This could be a vector with multiple elements.
Values should be between 0 and 1</p></td>
    </tr>
    <tr>
      <th>numerical.cutoff</th>
      <td><p>raw value to dichotomize continuous biomarker measure. numerical.cutoff and percentile.cutoff
cannot be both specified</p></td>
    </tr>
    <tr>
      <th>greater</th>
      <td><p>whether calculate summary statistics within the subgroup whose biomarker value is greater than or equal to
cutoff value. If this is TRUE, in 2-arm study, across-arm HR within biomarker high group will be calculated.
In single arm study HR of biomarker high vs low will be calculated.</p></td>
    </tr>
    <tr>
      <th>less</th>
      <td><p>whether calculate summary statistics within the subgroup whose biomarker value is less than the cutoff value.
greater and less can both be TRUE</p></td>
    </tr>
    <tr>
      <th>greater.by.less</th>
      <td><p>whether show "greater" bin and "less" bin in consecutive rows. Default is FALSE. If it is TRUE,
parameters greater and less will be both set as TRUE</p></td>
    </tr>
    <tr>
      <th>across.and.within</th>
      <td><p>whether show across- and within- arm results in the same figure. Default is FALSE. This parameter
will be ignored if number of arm is 1. If it is TRUE, within-arm analysis results will be shown below the across-arm results.</p></td>
    </tr>
    <tr>
      <th>equal.in.high</th>
      <td><p>whether include equal in high group. Default is TRUE. If it is TRUE, "&gt;=" and "&lt;" will be
applied. Otherwise "&lt;=" and "&gt;" will be applied.</p></td>
    </tr>
    <tr>
      <th>within.bin</th>
      <td><p>whether calculate summary statistics within bin (e.g. &gt; cutoff1 and &lt;= cutoff2). If within.bin is TRUE,
greater and less will be set as FALSE.</p></td>
    </tr>
    <tr>
      <th>show.itt</th>
      <td><p>whether calculate summary statistics using all patients in full population (e.g. ITT). This will be ignored in 1arm case</p></td>
    </tr>
    <tr>
      <th>show.bep</th>
      <td><p>whether calculate summary statistics using all patients in BEP (biomarker evaluable population). This will be ignored in 1arm case</p></td>
    </tr>
    <tr>
      <th>bep</th>
      <td><p>name of the column which indicates biomarker evaluable population. If it is null, patients who have non NA records
in biomarker variable will be used as BEP.</p></td>
    </tr>
    <tr>
      <th>bep.name</th>
      <td><p>preferred display name of the biomarker evaluable population.
If it is NULL, bep will be used.</p></td>
    </tr>
    <tr>
      <th>itt.name</th>
      <td><p>preferred display name of the full population (e.g. ITT).
If it is NULL, "All" will be used.</p></td>
    </tr>
    <tr>
      <th>bep.indicator</th>
      <td><p>In the subpopulation column, which value is used
to define the biomarker evaluable population.</p></td>
    </tr>
    <tr>
      <th>covariate</th>
      <td><p>a vector specifying the covariate variables to be adjusted in the model. Default is set to NULL, meaning no adjustment.</p></td>
    </tr>
    <tr>
      <th>strata</th>
      <td><p>name of the stratification variables. Default is set to NULL, meaning no stratification.</p></td>
    </tr>
    <tr>
      <th>tabforest</th>
      <td><p>Default is FALSE. If it is FALSE, forest plot will be generated using forestplot() function.
If it is TRUE, a table will be generated with forest plots incorpriated</p></td>
    </tr>
    <tr>
      <th>quantile.type</th>
      <td><p>an integer between 1 and 9 selecting one of the nine quantile algorithms. See <code>quantile</code>. Default is 2.</p></td>
    </tr>
    <tr>
      <th>cutoff.digits, digits</th>
      <td><p>cutoff.digits:number of digits for rounding when calculating cutoff. will only be used when percentile.cutoff is specified. digits: number of digits for the summary statistics display</p></td>
    </tr>
    <tr>
      <th>placebo.code</th>
      <td><p>name of the control arm of the treatment variable. If you want to specify placebo code using this parameter, both placebo.code and active.code need to be provided.</p></td>
    </tr>
    <tr>
      <th>active.code</th>
      <td><p>of the treatment/experimental arm of the treatment variable. If you want to specify active code using this parameter, both placebo.code and active.code need to be provided.</p></td>
    </tr>
    <tr>
      <th>rsp.cat</th>
      <td><p>whether the response outcome variable is coded as binary (1 as responder and 0 as non-responder),
If rsp.cat is TRUE, responder categories
and nonresponder categories should be specified in rsp.response and rsp.nonresponse (all values in the outcome column
should be included in rsp.response and rsp.nonresponse)
. If rsp.cat is FALSE, the response outcome variable should be coded as binary (0/1).
At the same time rsp.response and rsp.nonresponse will be ignored.</p></td>
    </tr>
    <tr>
      <th>rsp.response</th>
      <td><p>categories that should be considered as responder.</p></td>
    </tr>
    <tr>
      <th>rsp.nonresponse</th>
      <td><p>categories that should be considered as non responder.</p></td>
    </tr>
    <tr>
      <th>var.code</th>
      <td><p>ordered levels of the biomarker variable. This will be ignored for continuous biomarker.
If the biomarker is categorical and this is NULL, biomarker subgroups will be ordered by the order from factor() function</p></td>
    </tr>
    <tr>
      <th>surv.conf.type</th>
      <td><p>confidence interval type. Default is "plain". see conf.type in survfit</p></td>
    </tr>
    <tr>
      <th>ties</th>
      <td><p>Default is "efron". To match internal sas results, use "exact". See parameter "ties" in coxph.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>type I error rate. Default is 0.05.</p></td>
    </tr>
    <tr>
      <th>main, main.prefix</th>
      <td><p>main title (prefix of title) of the forest plot. Default is "Association of biomarker effect within treatment arms".</p></td>
    </tr>
    <tr>
      <th>sub</th>
      <td><p>sub title under the forest plot. Default is NULL.</p></td>
    </tr>
    <tr>
      <th>clip</th>
      <td><p>range of the x-axis of the forest plot. Default is NULL.</p></td>
    </tr>
    <tr>
      <th>xticks, xticks.digits</th>
      <td><p>x axis tick marks for the forest plot</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>xlab for forest plot</p></td>
    </tr>
    <tr>
      <th>cex.headings</th>
      <td><p>amount of magnification of headings of the forest plot relative to cex. Default is 1.1.</p></td>
    </tr>
    <tr>
      <th>cex.note</th>
      <td><p>amount of magnification of the note. Default is 1.</p></td>
    </tr>
    <tr>
      <th>cols</th>
      <td><p>Color of the 'effect size' displayed in the forest plot.</p></td>
    </tr>
    <tr>
      <th>only.stat</th>
      <td><p>if it is TRUE, only summary statistics will be generated. No figure will be generated</p></td>
    </tr>
    <tr>
      <th>pdf.name</th>
      <td><p>name of output pdf file. If it's NULL, the plots will be displayed but not saved as pdf. Default is "Forestplot.pdf".</p></td>
    </tr>
    <tr>
      <th>pdf.param</th>
      <td><p>a list of parameters that define pdf graphics device. See <code>pdf</code>. Default is <code>list(width=6, height=4.5)</code>.</p></td>
    </tr>
    <tr>
      <th>par.param</th>
      <td><p>a list of parameters that define graphcial parameters. See <code>par</code>. Default is <code>list(mar=c(4,4,3,2))</code>.</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>input</span>)
<span class='fu'>PlotTabForestBiomarker</span>(<span class='kw'>data</span><span class='kw'>=</span><span class='no'>input</span>,
                      <span class='kw'>outcome.class</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"survival"</span>),
                      <span class='kw'>outcome.var</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"PFS"</span>,<span class='st'>"PFS.event"</span>),
                      <span class='kw'>trt</span><span class='kw'>=</span><span class='st'>"Arm"</span>,
                      <span class='kw'>var</span><span class='kw'>=</span><span class='st'>"KRAS.mutant"</span>,
                      <span class='kw'>var.class</span><span class='kw'>=</span><span class='st'>"categorical"</span>)</div><div class='output co'>#&gt; <span class='message'>Some NAs in var column, will define the non NA entries as BEP</span></div><div class='img'><img src='PlotTabForestBiomarker-1.png' alt='' width='700' height='432.632880098887' /></div><div class='output co'>#&gt;                                code.v                                         
#&gt;  [1,] "Subgroup"               "Group" "Event/N"   "MST"  "HR"   "CI"         
#&gt;  [2,] "All"                    "CTRL"  "120 / 182" "3.25" ""     ""           
#&gt;  [3,] ""                       "TRT"   "202 / 368" "5.82" "0.54" "0.43 - 0.67"
#&gt;  [4,] "BEP"                    "CTRL"  "73 / 103"  "3.58" ""     ""           
#&gt;  [5,] ""                       "TRT"   "118 / 223" "6.54" "0.5"  "0.37 - 0.66"
#&gt;  [6,] "KRAS.mutant(Mutant)"    "CTRL"  "26 / 34"   "3.22" ""     ""           
#&gt;  [7,] ""                       "TRT"   "31 / 61"   "6.01" "0.48" "0.28 - 0.8" 
#&gt;  [8,] "KRAS.mutant(Wild Type)" "CTRL"  "47 / 69"   "3.94" ""     ""           
#&gt;  [9,] ""                       "TRT"   "87 / 162"  "6.57" "0.5"  "0.35 - 0.72"
#&gt;                    
#&gt;  [1,] "raw P"      
#&gt;  [2,] ""           
#&gt;  [3,] "0.000000078"
#&gt;  [4,] ""           
#&gt;  [5,] "0.0000028"  
#&gt;  [6,] ""           
#&gt;  [7,] "0.0055"     
#&gt;  [8,] ""           
#&gt;  [9,] "0.00019"    </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Ning Leng <a href='mailto:leng.ning@gene.com'>leng.ning@gene.com</a>, Alexey Pronin <a href='mailto:pronin.alexey@gene.com'>pronin.alexey@gene.com</a>, and previous team members (see DESCRIPTION)

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ning Leng, Alexey Pronin, Jemma Fan, Doug Kelkhoff, Christina Rabe, Kwame Okrah.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
